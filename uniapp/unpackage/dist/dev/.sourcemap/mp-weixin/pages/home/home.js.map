{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../Users/Administrator/Downloads/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view>\n\t\t<view class=\"uni-container\">\n\t\t\t<uni-table ref=\"table\" :loading=\"loading\" border stripe type=\"selection\" emptyText=\"暂无更多数据\" @selection-change=\"selectionChange\">\n\t\t\t\t<uni-tr>\n\t\t\t\t\t<uni-th width=\"150\" align=\"center\">日期</uni-th>\n\t\t\t\t\t<uni-th width=\"150\" align=\"center\">姓名</uni-th>\n\t\t\t\t\t<uni-th align=\"center\">地址</uni-th>\n\t\t\t\t\t<uni-th width=\"204\" align=\"center\">设置</uni-th>\n\t\t\t\t</uni-tr>\n\t\t\t\t<uni-tr v-for=\"(item, index) in tableData\" :key=\"index\">\n\t\t\t\t\t<uni-td>{{ item.date }}</uni-td>\n\t\t\t\t\t<uni-td>\n\t\t\t\t\t\t<view class=\"name\">{{ item.name }}</view>\n\t\t\t\t\t</uni-td>\n\t\t\t\t\t<uni-td align=\"center\">{{ item.address }}</uni-td>\n\t\t\t\t\t<uni-td>\n\t\t\t\t\t\t<view class=\"uni-group\">\n\t\t\t\t\t\t\t<button class=\"uni-button\" size=\"mini\" type=\"primary\">修改</button>\n\t\t\t\t\t\t\t<button class=\"uni-button\" size=\"mini\" type=\"warn\">删除</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-td>\n\t\t\t\t</uni-tr>\n\t\t\t</uni-table>\n\t\t\t<view class=\"uni-pagination-box\"><uni-pagination show-icon :page-size=\"pageSize\" :current=\"pageCurrent\" :total=\"total\" @change=\"change\" /></view>\n\t\t</view>\n\t</view>\n</template>\n<script>\nimport tableData from './tableData.js'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsearchVal: '',\n\t\t\ttableData: [],\n\t\t\t// 每页数据量\n\t\t\tpageSize: 10,\n\t\t\t// 当前页\n\t\t\tpageCurrent: 1,\n\t\t\t// 数据总量\n\t\t\ttotal: 0,\n\t\t\tloading: false\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tthis.selectedIndexs = []\n\t\tthis.getData(1)\r\n\t\t //option为object类型，会序列化上个页面传递的参数\r\n\t\tconsole.log(option.id); //打印出上个页面传递的参数。\r\n\t\tconsole.log(option.name); //打印出上个页面传递的参数。\r\n\t\t\t\n\t},\n\tmethods: {\n\t\t// 多选处理\n\t\tselectedItems() {\n\t\t\treturn this.selectedIndexs.map(i => this.tableData[i])\n\t\t},\n\t\t// 多选\n\t\tselectionChange(e) {\n\t\t\tconsole.log(e.detail.index)\n\t\t\tthis.selectedIndexs = e.detail.index\n\t\t},\n\t\t//批量删除\n\t\tdelTable() {\n\t\t\tconsole.log(this.selectedItems())\n\t\t},\n\t\t// 分页触发\n\t\tchange(e) {\n\t\t\tthis.$refs.table.clearSelection()\n\t\t\tthis.selectedIndexs.length = 0\n\t\t\tthis.getData(e.current)\n\t\t},\n\t\t// 搜索\n\t\tsearch() {\n\t\t\tthis.getData(1, this.searchVal)\n\t\t},\n\t\t// 获取数据\n\t\tgetData(pageCurrent, value = '') {\n\t\t\tthis.loading = true\n\t\t\tthis.pageCurrent = pageCurrent\n\t\t\tthis.request({\n\t\t\t\tpageSize: this.pageSize,\n\t\t\t\tpageCurrent: pageCurrent,\n\t\t\t\tvalue: value,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// console.log('data', res);\n\t\t\t\t\tthis.tableData = res.data\n\t\t\t\t\tthis.total = res.total\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 伪request请求\n\t\trequest(options) {\n\t\t\tconst { pageSize, pageCurrent, success, value } = options\n\t\t\tlet total = tableData.length\n\t\t\tlet data = tableData.filter((item, index) => {\n\t\t\t\tconst idx = index - (pageCurrent - 1) * pageSize\n\t\t\t\treturn idx < pageSize && idx >= 0\n\t\t\t})\n\t\t\tif (value) {\n\t\t\t\tdata = []\n\t\t\t\ttableData.forEach(item => {\n\t\t\t\t\tif (item.name.indexOf(value) !== -1) {\n\t\t\t\t\t\tdata.push(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\ttotal = data.length\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\ttypeof success === 'function' &&\n\t\t\t\t\tsuccess({\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\ttotal: total\n\t\t\t\t\t})\n\t\t\t}, 500)\n\t\t}\n\t}\n}\n</script>\n<style>\n/* #ifndef H5 */\n/* page {\n\tpadding-top: 85px;\n} */\n/* #endif */\n.uni-group {\n\tdisplay: flex;\n\talign-items: center;\n}\n</style>\n\n","import MiniProgramPage from 'C:/vue3github/vue3/uniapp/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","tableData"],"mappings":";;;AA8BA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,WAAW,CAAE;AAAA;AAAA,MAEb,UAAU;AAAA;AAAA,MAEV,aAAa;AAAA;AAAA,MAEb,OAAO;AAAA,MACP,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO,QAAQ;AACd,SAAK,iBAAiB,CAAC;AACvB,SAAK,QAAQ,CAAC;AAEdA,kBAAA,MAAA,MAAA,OAAA,6BAAY,OAAO,EAAE;AACrBA,kBAAA,MAAA,MAAA,OAAA,6BAAY,OAAO,IAAI;AAAA,EAEvB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,gBAAgB;AACf,aAAO,KAAK,eAAe,IAAI,OAAK,KAAK,UAAU,CAAC,CAAC;AAAA,IACrD;AAAA;AAAA,IAED,gBAAgB,GAAG;AAClBA,oBAAA,MAAA,MAAA,OAAA,6BAAY,EAAE,OAAO,KAAK;AAC1B,WAAK,iBAAiB,EAAE,OAAO;AAAA,IAC/B;AAAA;AAAA,IAED,WAAW;AACVA,oBAAA,MAAA,MAAA,OAAA,6BAAY,KAAK,cAAa,CAAE;AAAA,IAChC;AAAA;AAAA,IAED,OAAO,GAAG;AACT,WAAK,MAAM,MAAM,eAAe;AAChC,WAAK,eAAe,SAAS;AAC7B,WAAK,QAAQ,EAAE,OAAO;AAAA,IACtB;AAAA;AAAA,IAED,SAAS;AACR,WAAK,QAAQ,GAAG,KAAK,SAAS;AAAA,IAC9B;AAAA;AAAA,IAED,QAAQ,aAAa,QAAQ,IAAI;AAChC,WAAK,UAAU;AACf,WAAK,cAAc;AACnB,WAAK,QAAQ;AAAA,QACZ,UAAU,KAAK;AAAA,QACf;AAAA,QACA;AAAA,QACA,SAAS,SAAO;AAEf,eAAK,YAAY,IAAI;AACrB,eAAK,QAAQ,IAAI;AACjB,eAAK,UAAU;AAAA,QAChB;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAED,QAAQ,SAAS;AAChB,YAAM,EAAE,UAAU,aAAa,SAAS,MAAQ,IAAE;AAClD,UAAI,QAAQC,qBAAAA,UAAU;AACtB,UAAI,OAAOA,qBAAS,UAAC,OAAO,CAAC,MAAM,UAAU;AAC5C,cAAM,MAAM,SAAS,cAAc,KAAK;AACxC,eAAO,MAAM,YAAY,OAAO;AAAA,OAChC;AACD,UAAI,OAAO;AACV,eAAO,CAAC;AACRA,6BAAS,UAAC,QAAQ,UAAQ;AACzB,cAAI,KAAK,KAAK,QAAQ,KAAK,MAAM,IAAI;AACpC,iBAAK,KAAK,IAAI;AAAA,UACf;AAAA,SACA;AACD,gBAAQ,KAAK;AAAA,MACd;AAEA,iBAAW,MAAM;AAChB,eAAO,YAAY,cAClB,QAAQ;AAAA,UACP;AAAA,UACA;AAAA,SACA;AAAA,MACF,GAAE,GAAG;AAAA,IACP;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtHA,GAAG,WAAW,eAAe;"}